<html>

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

  <link rel="manifest" href="manifest.json" />

</head>

<body>

  <header>
    <h1>PWA install</h1>
  </header>

  <pwa-install></pwa-install>

  <pwa-install>Slot test</pwa-install>

  <pwa-install id="mainInstall"></pwa-install>

  <pwa-install showEligible>Eligible Install</pwa-install>

  <pwa-install id="lesser" manifestpath="manifest-lesser.json"></pwa-install>

  <pwa-install id="ownContent" featuresheader="My own features header" 
    descriptionheader="My description" 
    iosinstallinfotext="Yo, dude! Tap the share button and then 'Add to Homescreen'"
    installbuttontext="Click here to install"
    cancelbuttontext="I'll do it later!"></pwa-install>

  <pwa-install id="invalidMani" manifestpath="manifest-invalid.json"></pwa-install>

  <button id="openInstall">
    Install
  </button>

  <button id="openInstallLess">
    Install with lesser Manifest
  </button>

  <button id="openInstallOwnContent">
    Install with own text content
  </button>

  <button id="openInvalidMani">
    Install with invalid Manifest
  </button>

  <script type="module">
    import '../build/pwa-install.js';
  </script>

  <script>
    document.querySelector('#openInstall').addEventListener('click', () => {
      document.querySelector('pwa-install').openPrompt();
    });

    document.querySelector('#openInstallLess').addEventListener('click', () => {
      document.querySelector('#lesser').openPrompt();
    });

    document.querySelector('#openInstallOwnContent').addEventListener('click', () => {
      document.querySelector('#ownContent').openPrompt();
    });

    document.querySelector('#openInvalidMani').addEventListener('click', () => {
      document.querySelector('#invalidMani').openPrompt();
    });

    document.querySelector("#mainInstall").addEventListener('show', (ev) => {
      shown(ev);
    });

    document.querySelector("#mainInstall").addEventListener('hide', (ev) => {
      hidden(ev);
    });

    function shown(ev) {
      console.log('show event fired', ev);
    }

    function hidden(ev) {
      console.log('hide event fired', ev);
    }
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>
</body>

</html>